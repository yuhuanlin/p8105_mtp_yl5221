Midterm_Project
================

## Problem 1 - Data

The raw data includes date, weight of three dogs and the standard
object, notes describing their locations and special occasions. My goals
of report is to seperate text and weight data into two seperate csv and
do data wrangling, visualization for the weight data.

When date is imported from excel, it shows at numeric value of days
starting from 1899-12-30. I used the as.Date function to provide correct
expression of date column. The weight of dog is given by Lbs Oz. We need
to convert it into single unit for convenience of analyzing. Here I
converted them into lbs weight of each dog.

For the text part, date column is a subcolumn. I imported the data and
drop the first row, then rename the first column - date.

``` r
weight_df =
  read_excel("./data/dogweights_07may2022.xlsx", range = ("B2:F363")) %>% 
  janitor::clean_names() %>%
  mutate(date = as.numeric(date)) %>% 
  mutate(date = as.Date(date, origin = "1899-12-30")) %>% 
  separate(raisin, into = c("r_lbs", "r_oz"), sep = 2) %>% 
  separate(simone, into = c("s_lbs", "s_oz"), sep = 2) %>% 
  separate(gagne, into = c("g_lbs", "g_oz"), sep = 2) %>% 
  separate(std, into = c("std_lbs", "std_oz"), sep = 2) %>%
  mutate_if(is.character,as.numeric) %>% 
  mutate(r_oz = r_oz/16, s_oz = s_oz/16, g_oz = g_oz/16, std_oz = std_oz/16) %>% 
  mutate(raisin = r_oz + r_lbs, simone = s_oz + s_lbs, gagne = g_oz + g_lbs, std = std_oz + std_lbs) %>% 
  select(date, raisin, simone, gagne, std)
```

    ## Warning in mask$eval_all_mutate(quo): NAs introduced by coercion

``` r
notes_df =
  read_excel("./data/dogweights_07may2022.xlsx", range = ("B1:G363")) %>% 
  janitor::clean_names() %>% 
  select(weight_lbs_oz, notes) %>% 
  slice(-1) %>% 
  rename(date = weight_lbs_oz) %>% 
  mutate(date = as.numeric(date)) %>% 
  mutate(date = as.Date(date, origin = "1899-12-30"))
```

    ## Warning in mask$eval_all_mutate(quo): NAs introduced by coercion

#### export to data folder

``` r
write.csv(weight_df,"./data/weight_df.csv", row.names = FALSE)
write.csv(notes_df,"./data/notes_df.csv", row.names = FALSE)
```

## Problem 2 - EDA

The resulting weight df contains date and lbs weight of each dog and the
standard object during observation. There are 361 unique dates.

``` r
weight_df %>% 
  summarize(distinct_date = n_distinct(date))
```

#### number of observations, average weight and the standard deviation for each dog

``` r
weight_df %>% 
  pivot_longer(
    raisin:gagne, 
    names_to = "dog",
    values_to = "weight_lbs") %>% 
  group_by(dog) %>% 
  summarize(n_obs = n(), mean = mean(weight_lbs, na.rm = TRUE), sd = sd(weight_lbs, na.rm = TRUE))
```

    ## # A tibble: 3 Ã— 4
    ##   dog    n_obs  mean    sd
    ##   <chr>  <int> <dbl> <dbl>
    ## 1 gagne    361 10.3  0.706
    ## 2 raisin   361 17.8  0.934
    ## 3 simone   361  9.79 0.916

## Problem 3 - Visualization

``` r
distribution_plot =
  weight_df %>%
  pivot_longer(
    raisin:gagne, 
    names_to = "dog",
    values_to = "weight_lbs") %>% 
  ggplot(aes(x = weight_lbs, y = factor(dog), fill = stat(x))) +
  ggridges::geom_density_ridges_gradient(scale = 3, rel_min_height = 0.01, alpha = 0.5) +
  labs(
    title = "Distribution of Dog's Weight",
    x = "weight(lbs)",
    y = "name of dog"
  ) 

time_plot =
  weight_df %>% 
  pivot_longer(
    raisin:gagne, 
    names_to = "dog",
    values_to = "weight_lbs") %>%
  ggplot(aes(x = date, y = weight_lbs)) +
  geom_point(alpha = .5) + 
  geom_smooth(se = FALSE) +
  facet_grid(~dog) +
  labs(
    title = "Dog's Weight Over Time",
    x = "year",
    y = "weight(lbs)"
  ) 

distribution_plot + time_plot
```

    ## Picking joint bandwidth of 0.203

    ## `geom_smooth()` using method = 'loess' and formula 'y ~ x'

    ## Warning: Removed 276 rows containing non-finite values (stat_smooth).

    ## Warning: Removed 276 rows containing missing values (geom_point).

<img src="p8105_mtp_yl5221_files/figure-gfm/unnamed-chunk-5-1.png" width="90%" />
